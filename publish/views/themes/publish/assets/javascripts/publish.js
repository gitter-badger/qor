!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):i("object"==typeof exports?require("jquery"):jQuery)}(function(i){"use strict";function t(o,n){this.$element=i(o),this.options=i.extend({},t.DEFAULTS,i.isPlainObject(n)&&n),this.loading=!1,this.init()}var o="qor.publish",n="click."+o;t.prototype={constructor:t,init:function(){var t=this.options,o=this.$element;this.$modal=o.find(t.modal),i.fn.tooltip&&o.find(t.toggleCheck).tooltip(),this.bind()},bind:function(){this.$element.on(n,i.proxy(this.click,this))},unbind:function(){this.$element.off(n,this.click)},click:function(t){var o=this.options,n=i(t.target);if(n.is(o.toggleView)){if(t.preventDefault(),this.loading)return;this.loading=!0,this.$modal.find(".modal-body").empty().load(n.data("url"),i.proxy(this.show,this))}else n.is(o.toggleCheck)&&(n.prop("disabled")||n.closest("table").find(":checkbox").not(n).prop("checked",n.prop("checked")))},show:function(){this.loading=!1,this.$modal.modal("show")},destroy:function(){this.unbind(),this.$element.removeData(o)}},t.DEFAULTS={modal:".qor-publish-modal",toggleView:".qor-action-diff",toggleCheck:".qor-check-all"},t.plugin=function(n){return this.each(function(){var e,s=i(this),l=s.data(o);if(!l){if(!i.fn.modal)return;s.data(o,l=new t(this,n))}"string"==typeof n&&i.isFunction(e=l[n])&&e.apply(l)})},i(function(){t.plugin.call(i(".qor-publish"))})});