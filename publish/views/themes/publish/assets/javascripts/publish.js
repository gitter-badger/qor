!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):i("object"==typeof exports?require("jquery"):jQuery)}(function(i){"use strict";function t(n,o){this.$element=i(n),this.options=i.extend({},t.DEFAULTS,i.isPlainObject(o)&&o),this.loading=!1,this.init()}var n="qor.publish",o="click."+n;t.prototype={constructor:t,init:function(){var i=this.$element;this.$modal=i.find(this.options.modal),this.bind()},bind:function(){this.$element.on(o,this.options.toggle,i.proxy(this.click,this))},unbind:function(){this.$element.off(o,this.click)},click:function(t){var n=i(t.target);t.preventDefault(),this.loading||(this.loading=!0,this.$modal.find(".modal-body").empty().load(n.data("url"),i.proxy(this.show,this)))},show:function(){this.loading=!1,this.$modal.modal("show")},destroy:function(){this.unbind(),this.$element.removeData(n)}},t.DEFAULTS={modal:".qor-publish-modal",toggle:".qor-action-diff"},t.plugin=function(o){return this.each(function(){var e,s=i(this),l=s.data(n);if(!l){if(!i.fn.modal)return;s.data(n,l=new t(this,o))}"string"==typeof o&&i.isFunction(e=l[o])&&e.apply(l)})},i(function(){t.plugin.call(i(".qor-publish"))})});